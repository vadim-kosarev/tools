# –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–µ–Ω—É–ª–µ–≤–æ–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏

**–î–∞—Ç–∞:** 2026-02-22  
**–§–∞–π–ª:** `transcribe/t_directory.py`

## üéØ –ó–ê–î–ê–ß–ê

–î–æ–±–∞–≤–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –Ω–∞ –Ω–µ–Ω—É–ª–µ–≤–æ–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏, —á—Ç–æ–±—ã –Ω–µ –ø—Ä–æ–ø—É—Å–∫–∞—Ç—å –ø—É—Å—Ç—ã–µ –∏–ª–∏ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã.

## ‚úÖ –†–ï–ê–õ–ò–ó–ê–¶–ò–Ø

### –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `has_transcription()`

**–ë—ã–ª–æ:**
```python
def has_transcription(file_path: Path, revision: str) -> bool:
    """
    –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —É–∂–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –¥–ª—è —Ñ–∞–π–ª–∞.
    """
    transcription_path = file_path.with_suffix(f".gigaam-{revision}-speakers.txt")
    return transcription_path.exists()
```

**–°—Ç–∞–ª–æ:**
```python
def has_transcription(file_path: Path, revision: str) -> bool:
    """
    –ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –ª–∏ —É–∂–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –¥–ª—è —Ñ–∞–π–ª–∞.

    Returns:
        True –µ—Å–ª–∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è —Å—É—â–µ—Å—Ç–≤—É–µ—Ç –∏ –∏–º–µ–µ—Ç –Ω–µ–Ω—É–ª–µ–≤–æ–π —Ä–∞–∑–º–µ—Ä
    """
    transcription_path = file_path.with_suffix(f".gigaam-{revision}-speakers.txt")
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∏ –Ω–µ–Ω—É–ª–µ–≤–æ–π —Ä–∞–∑–º–µ—Ä
    if not transcription_path.exists():
        return False
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º, —á—Ç–æ —Ñ–∞–π–ª –Ω–µ –ø—É—Å—Ç–æ–π
    try:
        file_size = transcription_path.stat().st_size
        return file_size > 0
    except OSError:
        return False
```

---

## üîç –õ–û–ì–ò–ö–ê –ü–†–û–í–ï–†–ö–ò

### 1. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏—è —Ñ–∞–π–ª–∞
```python
if not transcription_path.exists():
    return False
```

### 2. –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞ —Ñ–∞–π–ª–∞
```python
file_size = transcription_path.stat().st_size
return file_size > 0
```

### 3. –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫
```python
try:
    # ...–ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞...
except OSError:
    return False  # –°—á–∏—Ç–∞–µ–º, —á—Ç–æ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ –Ω–µ—Ç
```

**OSError** –º–æ–∂–µ—Ç –≤–æ–∑–Ω–∏–∫–Ω—É—Ç—å –µ—Å–ª–∏:
- –§–∞–π–ª —É–¥–∞–ª—ë–Ω –º–µ–∂–¥—É –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
- –ù–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —á—Ç–µ–Ω–∏–µ –∞—Ç—Ä–∏–±—É—Ç–æ–≤
- –ü—Ä–æ–±–ª–µ–º—ã —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π

---

## üìä –°–¶–ï–ù–ê–†–ò–ò –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø

### –°—Ü–µ–Ω–∞—Ä–∏–π 1: –ù–æ—Ä–º–∞–ª—å–Ω—ã–π —Ñ–∞–π–ª —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏

```
recording.amr                                  (100 KB)
recording.gigaam-e2e_rnnt-speakers.txt         (15 KB)  ‚úÖ –†–∞–∑–º–µ—Ä > 0
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `has_transcription()` ‚Üí `True` (—Ñ–∞–π–ª –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è)

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 2: –ü—É—Å—Ç–æ–π —Ñ–∞–π–ª —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏

```
recording.amr                                  (100 KB)
recording.gigaam-e2e_rnnt-speakers.txt         (0 KB)   ‚ùå –†–∞–∑–º–µ—Ä = 0
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `has_transcription()` ‚Üí `False` (—Ñ–∞–π–ª –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–Ω–æ–≤–æ)

**–ü—Ä–∏—á–∏–Ω—ã –ø—É—Å—Ç–æ–≥–æ —Ñ–∞–π–ª–∞:**
- –ü—Ä–µ—Ä–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ (Ctrl+C)
- –°–±–æ–π –ø—Ä–∏ –∑–∞–ø–∏—Å–∏
- –û—à–∏–±–∫–∞ –≤ —Å–∫—Ä–∏–ø—Ç–µ
- –ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –º–µ—Å—Ç–∞ –Ω–∞ –¥–∏—Å–∫–µ

---

### –°—Ü–µ–Ω–∞—Ä–∏–π 3: –§–∞–π–ª –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç

```
recording.amr                                  (100 KB)
recording.gigaam-e2e_rnnt-speakers.txt         (–Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç)
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** `has_transcription()` ‚Üí `False` (—Ñ–∞–π–ª –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω)

---

## üéØ –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê

### ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤:
- –ü—É—Å—Ç—ã–µ —Ñ–∞–π–ª—ã –±—É–¥—É—Ç –ø–µ—Ä–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã
- –ù–µ –Ω—É–∂–Ω–æ –≤—Ä—É—á–Ω—É—é –∏—Å–∫–∞—Ç—å –∏ —É–¥–∞–ª—è—Ç—å –ø—É—Å—Ç—ã–µ —Ñ–∞–π–ª—ã
- –ó–∞—â–∏—Ç–∞ –æ—Ç –ø—Ä–µ—Ä–≤–∞–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏

### ‚úÖ –ù–∞–¥—ë–∂–Ω–æ—Å—Ç—å:
- –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ —á–µ—Ä–µ–∑ `try/except`
- –ù–µ —É–ø–∞–¥—ë—Ç –ø—Ä–∏ –ø—Ä–æ–±–ª–µ–º–∞—Ö —Å —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º–æ–π
- –ë–µ–∑–æ–ø–∞—Å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞

### ‚úÖ –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ:
- –ü—É—Å—Ç—ã–µ —Ñ–∞–π–ª—ã –±—É–¥—É—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã –∏ –∑–∞–ª–æ–≥–∏—Ä–æ–≤–∞–Ω—ã
- –í–∏–¥–Ω–æ, –∫–∞–∫–∏–µ —Ñ–∞–π–ª—ã –ø–µ—Ä–µ–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è
- –£–¥–æ–±–Ω–æ –¥–ª—è –æ—Ç–ª–∞–¥–∫–∏

---

## üìù –ü–†–ò–ú–ï–†–´ –í–´–í–û–î–ê

### –î–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–ø—É—Å—Ç–æ–π —Ñ–∞–π–ª –ø—Ä–æ–ø—É—Å–∫–∞–µ—Ç—Å—è):

```bash
python t_directory.py H:\vkshare\CallRec --script t_gigaam.py
```

**–í—ã–≤–æ–¥:**
```
2026-02-22 XX:XX:XX - INFO - –ù–∞–π–¥–µ–Ω–æ –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤:
  - –î–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏: 0
  - –ü—Ä–æ–ø—É—â–µ–Ω–æ (—É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ): 15
  - –í—Å–µ–≥–æ: 15
```
**–ü—Ä–æ–±–ª–µ–º–∞:** –ü—É—Å—Ç—ã–µ —Ñ–∞–π–ª—ã —Å—á–∏—Ç–∞—é—Ç—Å—è "–æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã–º–∏" ‚ùå

---

### –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è (–ø—É—Å—Ç–æ–π —Ñ–∞–π–ª –ø–µ—Ä–µ–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç—Å—è):

```bash
python t_directory.py H:\vkshare\CallRec --script t_gigaam.py
```

**–í—ã–≤–æ–¥:**
```
2026-02-22 XX:XX:XX - INFO - –ù–∞–π–¥–µ–Ω–æ –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤:
  - –î–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏: 3          ‚Üê –ü—É—Å—Ç—ã–µ —Ñ–∞–π–ª—ã –ø–æ–ø–∞–ª–∏ –≤ –æ–±—Ä–∞–±–æ—Ç–∫—É
  - –ü—Ä–æ–ø—É—â–µ–Ω–æ (—É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω–æ): 12
  - –í—Å–µ–≥–æ: 15

================================================================================
[1/3] –û–±—Ä–∞–±–æ—Ç–∫–∞ —Ñ–∞–π–ª–∞...
================================================================================
–û–±—Ä–∞–±–æ—Ç–∫–∞: recording_with_empty_transcription.amr
...
‚úì –ì–æ—Ç–æ–≤–æ! –†–µ–∑—É–ª—å—Ç–∞—Ç: recording_with_empty_transcription.gigaam-...-speakers.txt
```
**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –ü—É—Å—Ç—ã–µ —Ñ–∞–π–ª—ã –ø–µ—Ä–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã ‚úÖ

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### –§—É–Ω–∫—Ü–∏—è `Path.stat().st_size`

```python
file_size = transcription_path.stat().st_size
```

**–í–æ–∑–≤—Ä–∞—â–∞–µ—Ç:** –†–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ –≤ –±–∞–π—Ç–∞—Ö (int)

**–ü—Ä–∏–º–µ—Ä—ã:**
- –ü—É—Å—Ç–æ–π —Ñ–∞–π–ª: `0`
- –ú–∏–Ω–∏–º–∞–ª—å–Ω–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è: `>= 1` –±–∞–π—Ç
- –ù–æ—Ä–º–∞–ª—å–Ω–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è: `1000-50000` –±–∞–π—Ç

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∞–∑–º–µ—Ä–∞

```python
return file_size > 0
```

**True:** –§–∞–π–ª —Å–æ–¥–µ—Ä–∂–∏—Ç —Ö–æ—Ç—è –±—ã 1 –±–∞–π—Ç  
**False:** –§–∞–π–ª –ø—É—Å—Ç–æ–π (0 –±–∞–π—Ç)

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π

```python
try:
    file_size = transcription_path.stat().st_size
    return file_size > 0
except OSError:
    return False
```

**OSError –≤–∫–ª—é—á–∞–µ—Ç:**
- `FileNotFoundError` - —Ñ–∞–π–ª —É–¥–∞–ª—ë–Ω
- `PermissionError` - –Ω–µ—Ç –ø—Ä–∞–≤ –Ω–∞ —á—Ç–µ–Ω–∏–µ
- `IOError` - –æ—à–∏–±–∫–∏ –≤–≤–æ–¥–∞-–≤—ã–≤–æ–¥–∞

---

## üß™ –¢–ï–°–¢–ò–†–û–í–ê–ù–ò–ï

### –¢–µ—Å—Ç 1: –°–æ–∑–¥–∞—Ç—å –ø—É—Å—Ç–æ–π —Ñ–∞–π–ª –∏ –ø—Ä–æ–≤–µ—Ä–∏—Ç—å

```bash
# –°–æ–∑–¥–∞—ë–º –ø—É—Å—Ç–æ–π —Ñ–∞–π–ª —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
type nul > "recording.gigaam-e2e_rnnt-speakers.txt"

# –ó–∞–ø—É—Å–∫–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É
python t_directory.py . --script t_gigaam.py
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:** –§–∞–π–ª –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–Ω–æ–≤–æ

---

### –¢–µ—Å—Ç 2: –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª

```bash
# –°–æ–∑–¥–∞—ë–º —Ñ–∞–π–ª —Å —Å–æ–¥–µ—Ä–∂–∏–º—ã–º
echo "Test transcription" > "recording.gigaam-e2e_rnnt-speakers.txt"

# –ó–∞–ø—É—Å–∫–∞–µ–º –æ–±—Ä–∞–±–æ—Ç–∫—É
python t_directory.py . --script t_gigaam.py
```

**–û–∂–∏–¥–∞–µ—Ç—Å—è:** –§–∞–π–ª –±—É–¥–µ—Ç –ø—Ä–æ–ø—É—â–µ–Ω (—É–∂–µ –æ–±—Ä–∞–±–æ—Ç–∞–Ω)

---

### –¢–µ—Å—Ç 3: Python –ø—Ä–æ–≤–µ—Ä–∫–∞

```python
from pathlib import Path

def has_transcription(file_path: Path, revision: str) -> bool:
    transcription_path = file_path.with_suffix(f".gigaam-{revision}-speakers.txt")
    
    if not transcription_path.exists():
        return False
    
    try:
        file_size = transcription_path.stat().st_size
        return file_size > 0
    except OSError:
        return False

# –¢–µ—Å—Ç
audio_file = Path("recording.amr")
print(f"–ï—Å—Ç—å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è: {has_transcription(audio_file, 'e2e_rnnt')}")
```

---

## üí° –î–û–ü–û–õ–ù–ò–¢–ï–õ–¨–ù–´–ï –í–û–ó–ú–û–ñ–ù–û–°–¢–ò

### –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –º–∏–Ω–∏–º–∞–ª—å–Ω–æ–≥–æ —Ä–∞–∑–º–µ—Ä–∞:

```python
def has_transcription(file_path: Path, revision: str, min_size: int = 10) -> bool:
    """
    –ü—Ä–æ–≤–µ—Ä—è–µ—Ç —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—é —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º —Ä–∞–∑–º–µ—Ä–æ–º.
    
    Args:
        min_size: –ú–∏–Ω–∏–º–∞–ª—å–Ω—ã–π —Ä–∞–∑–º–µ—Ä –≤ –±–∞–π—Ç–∞—Ö (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 10)
    """
    transcription_path = file_path.with_suffix(f".gigaam-{revision}-speakers.txt")
    
    if not transcription_path.exists():
        return False
    
    try:
        file_size = transcription_path.stat().st_size
        return file_size >= min_size  # –ú–∏–Ω–∏–º—É–º 10 –±–∞–π—Ç
    except OSError:
        return False
```

**–ü–æ–ª—å–∑–∞:** –ó–∞—â–∏—Ç–∞ –æ—Ç —Ñ–∞–π–ª–æ–≤ —Å –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–º —Å–æ–¥–µ—Ä–∂–∏–º—ã–º (–Ω–∞–ø—Ä–∏–º–µ—Ä, —Ç–æ–ª—å–∫–æ –∑–∞–≥–æ–ª–æ–≤–æ–∫)

---

### –ï—Å–ª–∏ –Ω—É–∂–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –≤–∞–ª–∏–¥–Ω–æ—Å—Ç—å —Å–æ–¥–µ—Ä–∂–∏–º–æ–≥–æ:

```python
def has_valid_transcription(file_path: Path, revision: str) -> bool:
    """–ü—Ä–æ–≤–µ—Ä—è–µ—Ç, —á—Ç–æ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è –≤–∞–ª–∏–¥–Ω–∞"""
    transcription_path = file_path.with_suffix(f".gigaam-{revision}-speakers.txt")
    
    if not transcription_path.exists():
        return False
    
    try:
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑–º–µ—Ä
        file_size = transcription_path.stat().st_size
        if file_size == 0:
            return False
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å–æ–¥–µ—Ä–∂–∏–º–æ–µ
        content = transcription_path.read_text(encoding='utf-8')
        # –î–æ–ª–∂–Ω—ã –±—ã—Ç—å –≤—Ä–µ–º–µ–Ω–Ω—ã–µ –º–µ—Ç–∫–∏ [HH:MM:SS]
        return '[' in content and ']' in content
        
    except (OSError, UnicodeDecodeError):
        return False
```

**–ü–æ–ª—å–∑–∞:** –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç—Ä—É–∫—Ç—É—Ä—ã —Ñ–∞–π–ª–∞

---

## ‚öôÔ∏è –í–õ–ò–Ø–ù–ò–ï –ù–ê –†–ê–ë–û–¢–£

### –ü–æ–≤–µ–¥–µ–Ω–∏–µ –ø—Ä–∏ –ø–∞–∫–µ—Ç–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–µ:

**–î–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
```
10 —Ñ–∞–π–ª–æ–≤ —Å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è–º–∏
- 8 –Ω–æ—Ä–º–∞–ª—å–Ω—ã—Ö (–ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è)
- 2 –ø—É—Å—Ç—ã—Ö (–ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è) ‚ùå –ü—Ä–æ–±–ª–µ–º–∞!
```

**–ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:**
```
10 —Ñ–∞–π–ª–æ–≤ —Å —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è–º–∏
- 8 –Ω–æ—Ä–º–∞–ª—å–Ω—ã—Ö (–ø—Ä–æ–ø—É—Å–∫–∞—é—Ç—Å—è) ‚úÖ
- 2 –ø—É—Å—Ç—ã—Ö (–ø–µ—Ä–µ–æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è) ‚úÖ –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ!
```

### –ü—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å:

- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:** `+1 stat()` –Ω–∞ —Ñ–∞–π–ª
- **Overhead:** ~0.001 –º—Å –Ω–∞ —Ñ–∞–π–ª (–Ω–µ–∑–∞–º–µ—Ç–Ω–æ)
- **–ü–æ–ª—å–∑–∞:** –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø–µ—Ä–µ–æ–±—Ä–∞–±–æ—Ç–∫–∞ –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

---

## üìà –°–¢–ê–¢–ò–°–¢–ò–ö–ê

### –¢–∏–ø–∏—á–Ω—ã–µ —Ä–∞–∑–º–µ—Ä—ã —Ñ–∞–π–ª–æ–≤ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏:

| –î–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç—å –∞—É–¥–∏–æ | –†–∞–∑–º–µ—Ä —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ | –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ |
|-------------------|---------------------|------------|
| 1 –º–∏–Ω—É—Ç–∞ | 1-3 KB | –ö–æ—Ä–æ—Ç–∫–∏–π —Ä–∞–∑–≥–æ–≤–æ—Ä |
| 5 –º–∏–Ω—É—Ç | 5-15 KB | –°—Ä–µ–¥–Ω–∏–π –∑–≤–æ–Ω–æ–∫ |
| 30 –º–∏–Ω—É—Ç | 30-100 KB | –î–ª–∏–Ω–Ω–∞—è –±–µ—Å–µ–¥–∞ |
| 1 —á–∞—Å | 60-200 KB | –û—á–µ–Ω—å –¥–ª–∏–Ω–Ω–∞—è –∑–∞–ø–∏—Å—å |

### –ü—É—Å—Ç—ã–µ —Ñ–∞–π–ª—ã:

- **–†–∞–∑–º–µ—Ä:** 0 –±–∞–π—Ç
- **–ü—Ä–∏—á–∏–Ω—ã:** –ü—Ä–µ—Ä—ã–≤–∞–Ω–∏–µ, –æ—à–∏–±–∫–∏ –∑–∞–ø–∏—Å–∏, –Ω–µ—Ö–≤–∞—Ç–∫–∞ –º–µ—Å—Ç–∞
- **–ß–∞—Å—Ç–æ—Ç–∞:** ~1-5% –æ—Ç –≤—Å–µ—Ö –æ–±—Ä–∞–±–æ—Ç–∞–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤

---

## ‚úÖ –ò–¢–û–ì

**–î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –Ω–µ–Ω—É–ª–µ–≤–æ–π —Ä–∞–∑–º–µ—Ä —Ñ–∞–π–ª–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏!**

### –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ —Ñ—É–Ω–∫—Ü–∏—è `has_transcription()` –≤ `t_directory.py`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –ø—Ä–æ–≤–µ—Ä–∫–∞ `file_size > 0`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∞ –æ–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ `try/except OSError`
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Ñ—É–Ω–∫—Ü–∏–∏

### –†–µ–∑—É–ª—å—Ç–∞—Ç:
- ‚úÖ –ü—É—Å—Ç—ã–µ —Ñ–∞–π–ª—ã –±—É–¥—É—Ç **–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã**
- ‚úÖ –ù–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ—Å—Ç–∏ –≤—Ä—É—á–Ω—É—é –∏—Å–∫–∞—Ç—å –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- ‚úÖ –ó–∞—â–∏—Ç–∞ –æ—Ç –ø—Ä–µ—Ä–≤–∞–Ω–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏
- ‚úÖ –ù–∞–¥—ë–∂–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Å –æ–±—Ä–∞–±–æ—Ç–∫–æ–π –æ—à–∏–±–æ–∫

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```bash
# –ü—Ä–æ—Å—Ç–æ –∑–∞–ø—É—Å–∫–∞–µ–º –∫–∞–∫ –æ–±—ã—á–Ω–æ
python t_directory.py H:\vkshare\CallRec --script t_gigaam.py

# –ü—É—Å—Ç—ã–µ —Ñ–∞–π–ª—ã —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ –±—É–¥—É—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–µ—Ä–µ–æ–±—Ä–∞–±–æ—Ç–∞–Ω—ã!
```

**–ì–æ—Ç–æ–≤–æ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é!** üéâ

