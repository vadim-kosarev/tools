—å # –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏–∏ - –ú–æ–¥—É–ª—å–Ω–∞—è —Å—Ç—Ä—É–∫—Ç—É—Ä–∞

**–î–∞—Ç–∞:** 2026-02-22  
**–ó–∞–¥–∞—á–∞:** –í—ã–Ω–µ—Å—Ç–∏ –æ–±—â—É—é —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å –∏–∑ `t_gigaam*.py` –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ –º–æ–¥—É–ª–∏

## ‚úÖ –°–æ–∑–¥–∞–Ω–Ω—ã–µ –º–æ–¥—É–ª–∏

### 1. `transcribe_dto.py` (73 —Å—Ç—Ä–æ–∫–∏)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** Data Transfer Objects (Pydantic –º–æ–¥–µ–ª–∏)

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**
- `ChunkInfo` - –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ–± –∞—É–¥–∏–æ-—á–∞–Ω–∫–µ
- `ChunkBoundary` - –≥—Ä–∞–Ω–∏—Ü—ã —á–∞–Ω–∫–∞
- `AudioChunkingResult` - —Ä–µ–∑—É–ª—å—Ç–∞—Ç –Ω–∞—Ä–µ–∑–∫–∏ –∞—É–¥–∏–æ
- `SentenceWithTimestamp` - –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏–µ —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏
- `TextBlock` - –±–ª–æ–∫ —Ç–µ–∫—Å—Ç–∞ —Å —Ç–∞–π–º—Å—Ç–∞–º–ø–æ–º –∏ —Å–ø–∏–∫–µ—Ä–æ–º
- `SpeakerSegment` - —Å–µ–≥–º–µ–Ω—Ç –æ–¥–Ω–æ–≥–æ —Å–ø–∏–∫–µ—Ä–∞

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```python
from transcribe_dto import ChunkInfo, AudioChunkingResult
```

---

### 2. `transcribe_config.py` (109 —Å—Ç—Ä–æ–∫)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è –∏ –∫–æ–Ω—Å—Ç–∞–Ω—Ç—ã

**–°–µ–∫—Ü–∏–∏:**
- FFmpeg Configuration (`FFMPEG_BIN`, `setup_ffmpeg_path()`)
- Hugging Face Token (`HF_TOKEN`)
- Audio Processing Parameters (`CHUNK_SEC`, `OVERLAP_SEC`, `AUDIO_SAMPLE_RATE`)
- Text Segmentation Parameters (`MIN_PAUSE_SEC`, `MAX_BLOCK_DURATION_SEC`)
- Speaker Diarization Parameters (`MIN_SEGMENT_DURATION_SEC`)
- File Extensions (`AUDIO_EXTENSIONS`, `VIDEO_EXTENSIONS`, `MEDIA_EXTENSIONS`)
- Funny Speaker Names (`FUNNY_SPEAKER_NAMES`)
- Model Configuration (`GIGAAM_MODEL_NAME`, `PYANNOTE_MODEL_NAME`)
- Logging Configuration (`LOG_LEVEL`, `LOG_FORMAT`)

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```python
from transcribe_config import CHUNK_SEC, setup_ffmpeg_path
```

---

### 3. `transcribe_utils.py` (358 —Å—Ç—Ä–æ–∫)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –£—Ç–∏–ª–∏—Ç–∞—Ä–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –æ–±—â–µ–≥–æ –Ω–∞–∑–Ω–∞—á–µ–Ω–∏—è

**–ö–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ñ—É–Ω–∫—Ü–∏–π:**

#### –í—Ä–µ–º—è –∏ —Ñ–æ—Ä–º–∞—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ:
- `seconds_to_hhmmss(total_sec)` - [HH:mm:ss] —Ñ–æ—Ä–º–∞—Ç

#### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤:
- `is_video_file(file_path)`, `is_audio_file(file_path)`, `is_media_file(file_path)`

#### FFmpeg –æ–ø–µ—Ä–∞—Ü–∏–∏:
- `get_audio_duration_from_ffmpeg(input_path)` - –ø–æ–ª—É—á–µ–Ω–∏–µ –¥–ª–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏
- `extract_audio_from_video(video_path, output_dir)` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ –∞—É–¥–∏–æ –∏–∑ –≤–∏–¥–µ–æ
- `extract_audio_chunk_with_ffmpeg(...)` - –∏–∑–≤–ª–µ—á–µ–Ω–∏–µ —á–∞–Ω–∫–∞

#### –ù–∞—Ä–µ–∑–∫–∞ –∞—É–¥–∏–æ:
- `calculate_chunk_boundaries(...)` - –≤—ã—á–∏—Å–ª–µ–Ω–∏–µ –≥—Ä–∞–Ω–∏—Ü —á–∞–Ω–∫–æ–≤
- `generate_chunk_filename(...)` - –≥–µ–Ω–µ—Ä–∞—Ü–∏—è –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞
- `create_temp_directory_for_chunks()` - —Å–æ–∑–¥–∞–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏
- `cut_audio_to_chunks(...)` - –ø–æ–ª–Ω–∞—è –Ω–∞—Ä–µ–∑–∫–∞ –Ω–∞ —á–∞–Ω–∫–∏

#### –†–∞–±–æ—Ç–∞ —Å —Ç–µ–∫—Å—Ç–æ–º:
- `split_into_sentences(text)` - —Ä–∞–∑–±–∏–µ–Ω–∏–µ –Ω–∞ –ø—Ä–µ–¥–ª–æ–∂–µ–Ω–∏—è
- `calculate_text_similarity(text1, text2)` - Jaccard similarity

#### –ú–∞–ø–ø–∏–Ω–≥ —Å–ø–∏–∫–µ—Ä–æ–≤:
- `create_speaker_name_mapping(speaker_ids)` - –ø—Ä–∏–∫–æ–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞

#### –û—á–∏—Å—Ç–∫–∞ –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ:
- `cleanup_chunk_files(chunks)` - —É–¥–∞–ª–µ–Ω–∏–µ –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ñ–∞–π–ª–æ–≤
- `cleanup_temp_file(file_path)` - —É–¥–∞–ª–µ–Ω–∏–µ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞
- `save_transcription_to_file(...)` - —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞

**–ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:**
```python
from transcribe_utils import cut_audio_to_chunks, is_video_file
```

---

### 4. `MODULES_README.md` (256 —Å—Ç—Ä–æ–∫)
**–ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ:** –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –ø–æ –º–æ–¥—É–ª—è–º

**–°–æ–¥–µ—Ä–∂–∏–º–æ–µ:**
- –û–±–∑–æ—Ä –º–æ–¥—É–ª–µ–π
- –î–µ—Ç–∞–ª—å–Ω–æ–µ –æ–ø–∏—Å–∞–Ω–∏–µ –∫–∞–∂–¥–æ–≥–æ –º–æ–¥—É–ª—è
- –ü—Ä–∏–º–µ—Ä—ã –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- –ò–Ω—Å—Ç—Ä—É–∫—Ü–∏–∏ –ø–æ –º–∏–≥—Ä–∞—Ü–∏–∏
- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã
- –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

---

## üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

### –ß—Ç–æ –±—ã–ª–æ –≤—ã–Ω–µ—Å–µ–Ω–æ –∏–∑ —Å–∫—Ä–∏–ø—Ç–æ–≤:

| –§—É–Ω–∫—Ü–∏—è/–∫–ª–∞—Å—Å | –ë—ã–ª–æ –≤ | –°—Ç–∞–ª–æ –≤ |
|---------------|--------|---------|
| `ChunkInfo`, `TextBlock` –∏ –¥—Ä. | t_gigaam.py, t_gigaam_2.py | transcribe_dto.py |
| `CHUNK_SEC`, `MIN_PAUSE_SEC` –∏ –¥—Ä. | 3 —Ñ–∞–π–ª–∞ (–¥—É–±–ª–∏) | transcribe_config.py |
| `seconds_to_hhmmss()` | 3 —Ñ–∞–π–ª–∞ (–¥—É–±–ª–∏) | transcribe_utils.py |
| `is_video_file()` | 3 —Ñ–∞–π–ª–∞ (–¥—É–±–ª–∏) | transcribe_utils.py |
| `extract_audio_from_video()` | 3 —Ñ–∞–π–ª–∞ (–¥—É–±–ª–∏) | transcribe_utils.py |
| `cut_audio_to_chunks()` | 3 —Ñ–∞–π–ª–∞ (—Ä–∞–∑–Ω—ã–µ –≤–µ—Ä—Å–∏–∏) | transcribe_utils.py |
| `split_into_sentences()` | 2 —Ñ–∞–π–ª–∞ | transcribe_utils.py |
| `cleanup_chunk_files()` | 2 —Ñ–∞–π–ª–∞ | transcribe_utils.py |
| `save_transcription_to_file()` | 2 —Ñ–∞–π–ª–∞ | transcribe_utils.py |

### –£–º–µ–Ω—å—à–µ–Ω–∏–µ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è:

- **–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥—É–±–ª–∏—Ä—É—é—â–∏—Ö—Å—è —Ñ—É–Ω–∫—Ü–∏–π:** ~15
- **–°—Ç—Ä–æ–∫ –∫–æ–¥–∞ —Å—ç–∫–æ–Ω–æ–º–ª–µ–Ω–æ:** ~500-700 (–ø—Ä–∏ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–µ –≤—Å–µ—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤)
- **–°–æ–∑–¥–∞–Ω–Ω—ã—Ö –º–æ–¥—É–ª–µ–π:** 3
- **–°—Ç—Ä–æ–∫ –Ω–æ–≤–æ–π —Å—Ç—Ä—É–∫—Ç—É—Ä—ã:** 540

---

## üéØ –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞

### ‚úÖ DRY (Don't Repeat Yourself)
- –ù–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞ –º–µ–∂–¥—É —Å–∫—Ä–∏–ø—Ç–∞–º–∏
- –ï–¥–∏–Ω–∞—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏—è = –µ–¥–∏–Ω–∞—è —Ç–æ—á–∫–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –±–∞–≥–æ–≤

### ‚úÖ –¢–∏–ø–∏–∑–∞—Ü–∏—è (Pydantic)
- –í–∞–ª–∏–¥–∞—Ü–∏—è –¥–∞–Ω–Ω—ã—Ö –Ω–∞ —É—Ä–æ–≤–Ω–µ –º–æ–¥–µ–ª–µ–π
- –ê–≤—Ç–æ–¥–æ–ø–æ–ª–Ω–µ–Ω–∏–µ –≤ IDE
- –ú–µ–Ω—å—à–µ –æ—à–∏–±–æ–∫ –≤—Ä–µ–º–µ–Ω–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è

### ‚úÖ –ß–∏—Ç–∞–µ–º–æ—Å—Ç—å
- –û—Å–Ω–æ–≤–Ω—ã–µ —Å–∫—Ä–∏–ø—Ç—ã —Ñ–æ–∫—É—Å–∏—Ä—É—é—Ç—Å—è –Ω–∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–µ
- –£—Ç–∏–ª–∏—Ç—ã –≤—ã–Ω–µ—Å–µ–Ω—ã –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–æ–¥—É–ª—å

### ‚úÖ –¢–µ—Å—Ç–∏—Ä—É–µ–º–æ—Å—Ç—å
- –ö–∞–∂–¥—ã–π –º–æ–¥—É–ª—å –º–æ–∂–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ
- –õ–µ–≥–∫–æ —Å–æ–∑–¥–∞–≤–∞—Ç—å unit-—Ç–µ—Å—Ç—ã

### ‚úÖ –ú–∞—Å—à—Ç–∞–±–∏—Ä—É–µ–º–æ—Å—Ç—å
- –õ–µ–≥–∫–æ –¥–æ–±–∞–≤–ª—è—Ç—å –Ω–æ–≤—ã–µ —É—Ç–∏–ª–∏—Ç—ã
- –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–∞—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

---

## üìù –î–∞–ª—å–Ω–µ–π—à–∏–µ –¥–µ–π—Å—Ç–≤–∏—è

### –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤:

1. **t_gigaam_1.py:**
   - –ó–∞–º–µ–Ω–∏—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ –Ω–∞ –∏–º–ø–æ—Ä—Ç—ã –∏–∑ –º–æ–¥—É–ª–µ–π
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å DTO –≤–º–µ—Å—Ç–æ dict/tuple
   - –£–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–Ω—Å—Ç–∞–Ω—Ç

2. **t_gigaam_2.py:**
   - –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ t_gigaam_1.py
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ–±—â–∏–µ —Ñ—É–Ω–∫—Ü–∏–∏ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å —á–∞–Ω–∫–∞–º–∏

3. **t_gigaam.py:**
   - –°–∞–º—ã–π –±–æ–ª—å—à–æ–π —Ñ–∞–π–ª - –Ω–∞–∏–±–æ–ª—å—à–∏–π –≤—ã–∏–≥—Ä—ã—à –æ—Ç —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞
   - –í—ã–Ω–µ—Å—Ç–∏ –ª–æ–≥–∏–∫—É –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–∏ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥—É–ª–∏

4. **t_directory.py:**
   - –û–±–Ω–æ–≤–∏—Ç—å –∏–º–ø–æ—Ä—Ç—ã –∫–æ–Ω—Å—Ç–∞–Ω—Ç
   - –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ñ—É–Ω–∫—Ü–∏–∏ –ø—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤ —Ñ–∞–π–ª–æ–≤ –∏–∑ utils

---

## üîç –ü—Ä–∏–º–µ—Ä –º–∏–≥—Ä–∞—Ü–∏–∏

### –î–æ:
```python
# –í –∫–∞–∂–¥–æ–º —Å–∫—Ä–∏–ø—Ç–µ:
def seconds_to_hhmmss(total_sec: float) -> str:
    td = timedelta(seconds=int(total_sec))
    return f"[{str(td).zfill(8)}]"

CHUNK_SEC = 25.0  # –∏–ª–∏ 20.0 –≤ —Ä–∞–∑–Ω—ã—Ö —Ñ–∞–π–ª–∞—Ö

def is_video_file(file_path: Path) -> bool:
    video_extensions = {'.mp4', '.avi', ...}
    return file_path.suffix.lower() in video_extensions
```

### –ü–æ—Å–ª–µ:
```python
from transcribe_config import CHUNK_SEC
from transcribe_utils import seconds_to_hhmmss, is_video_file

# –ò—Å–ø–æ–ª—å–∑—É–µ–º –≥–æ—Ç–æ–≤—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
timestamp = seconds_to_hhmmss(120.5)  # [00:02:00]
if is_video_file(Path("video.mp4")):
    print(f"–î–ª–∏–Ω–∞ —á–∞–Ω–∫–∞: {CHUNK_SEC}")
```

---

## ‚ú® –†–µ–∑—É–ª—å—Ç–∞—Ç

–°–æ–∑–¥–∞–Ω–∞ **—á–∏—Å—Ç–∞—è –º–æ–¥—É–ª—å–Ω–∞—è –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞** —Å:
- ‚úÖ –†–∞–∑–¥–µ–ª–µ–Ω–∏–µ–º –æ—Ç–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω–æ—Å—Ç–∏ (DTO, –∫–æ–Ω—Ñ–∏–≥, —É—Ç–∏–ª–∏—Ç—ã)
- ‚úÖ –¢–∏–ø–∏–∑–∞—Ü–∏–µ–π —á–µ—Ä–µ–∑ Pydantic
- ‚úÖ –¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω–æ–π –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π
- ‚úÖ –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ–º –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–¥–∞
- ‚úÖ –ü–æ–ª–Ω–æ–π –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π

–í—Å–µ –≥–æ—Ç–æ–≤–æ –¥–ª—è —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥–∞ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å–∫—Ä–∏–ø—Ç–æ–≤ –∏ —É–ø—Ä–æ—â–µ–Ω–∏—è –∏—Ö –ø–æ–¥–¥–µ—Ä–∂–∫–∏! üéâ

