# –£–ª—É—á—à–µ–Ω–∏—è: –ø–æ–∏—Å–∫ –ø–æ glob –ø–∞—Ç—Ç–µ—Ä–Ω—É –∏ —É–ø—Ä–æ—â–µ–Ω–∏–µ –∫–æ–¥–∞

**–î–∞—Ç–∞:** 2026-02-22  
**–§–∞–π–ª—ã:** `transcribe_utils.py`, `t_gigaam.py`, `t_gigaam_blocks.py`

## ‚úÖ –ò–ó–ú–ï–ù–ï–ù–ò–ï 1: –ü–æ–∏—Å–∫ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ –ø–æ glob –ø–∞—Ç—Ç–µ—Ä–Ω—É

### –ë—ã–ª–æ:
```python
def find_existing_transcription(input_path, revision):
    # –§–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã–π —Å–ø–∏—Å–æ–∫ —Å—É—Ñ—Ñ–∏–∫—Å–æ–≤
    suffixes = ['speakers', 'blocks', 'simple']
    
    for suffix in suffixes:
        transcription_path = generate_transcription_filename(input_path, revision, suffix)
        if transcription_path.exists() and file_size > 0:
            return transcription_path
    return None
```

### –°—Ç–∞–ª–æ:
```python
def find_existing_transcription(input_path, revision):
    # –ü–æ–∏—Å–∫ –ø–æ –ø–∞—Ç—Ç–µ—Ä–Ω—É: <–∏–º—è>.gigaam-<revision>-*.txt
    pattern = f"{input_path.stem}.gigaam-{revision}-*.txt"
    matching_files = list(input_path.parent.glob(pattern))
    
    for transcription_path in matching_files:
        if file_size > 0:
            return transcription_path
    return None
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ù–∞—Ö–æ–¥–∏—Ç **–ª—é–±–æ–π** —Å—É—Ñ—Ñ–∏–∫—Å, –Ω–µ —Ç–æ–ª—å–∫–æ speakers/blocks/simple
- ‚úÖ –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Å—É—Ñ—Ñ–∏–∫—Å–æ–≤ (–Ω–∞–ø—Ä–∏–º–µ—Ä, `-custom`, `-test`)
- ‚úÖ –ì–∏–±–∫–æ—Å—Ç—å –¥–ª—è –±—É–¥—É—â–∏—Ö —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–π

---

## ‚úÖ –ò–ó–ú–ï–ù–ï–ù–ò–ï 2: –£–ø—Ä–æ—â–µ–Ω–∏–µ —Å–æ–∑–¥–∞–Ω–∏—è –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª—É

### –ë—ã–ª–æ (–º–Ω–æ–≥–æ—Å–ª–æ–≤–Ω–æ):
```python
# t_gigaam.py
stem = input_path.stem
parent = input_path.parent
suffix = "speakers"
out_path = parent / f"{stem}.gigaam-{revision}-{suffix}.txt"
```

### –°—Ç–∞–ª–æ (–æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞):
```python
# t_gigaam.py
out_path = input_path.parent / f"{input_path.stem}.gigaam-{revision}-speakers.txt"
```

### –ê–Ω–∞–ª–æ–≥–∏—á–Ω–æ –≤ `t_gigaam_blocks.py`:
```python
# –ë—ã–ª–æ: 4 –ø–µ—Ä–µ–º–µ–Ω–Ω—ã–µ + —Å–æ–∑–¥–∞–Ω–∏–µ –ø—É—Ç–∏
# –°—Ç–∞–ª–æ: –æ–¥–Ω–∞ —Å—Ç—Ä–æ–∫–∞
out_path = input_path.parent / f"{input_path.stem}.gigaam-{revision}-blocks.txt"
```

**–ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:**
- ‚úÖ –ö–æ–¥ –∫–æ—Ä–æ—á–µ –∏ —á–∏—Ç–∞–±–µ–ª—å–Ω–µ–µ
- ‚úÖ –ú–µ–Ω—å—à–µ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –≤ –æ–±–ª–∞—Å—Ç–∏ –≤–∏–¥–∏–º–æ—Å—Ç–∏
- ‚úÖ –û—á–µ–≤–∏–¥–Ω–µ–µ –Ω–∞–º–µ—Ä–µ–Ω–∏–µ

---

## üìä –°–†–ê–í–ù–ï–ù–ò–ï

### –§–∞–π–ª: `transcribe_utils.py`

| –ú–µ—Ç—Ä–∏–∫–∞ | –ë—ã–ª–æ | –°—Ç–∞–ª–æ |
|---------|------|-------|
| –°—Ç—Ä–æ–∫ –∫–æ–¥–∞ | 15 | 12 |
| –•–∞—Ä–¥–∫–æ–¥ —Å—É—Ñ—Ñ–∏–∫—Å–æ–≤ | –î–∞ | –ù–µ—Ç |
| –ì–∏–±–∫–æ—Å—Ç—å | –ù–∏–∑–∫–∞—è | –í—ã—Å–æ–∫–∞—è |

### –§–∞–π–ª—ã: `t_gigaam.py`, `t_gigaam_blocks.py`

| –ú–µ—Ç—Ä–∏–∫–∞ | –ë—ã–ª–æ | –°—Ç–∞–ª–æ |
|---------|------|-------|
| –°—Ç—Ä–æ–∫ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –ø—É—Ç–∏ | 4-5 | 1 |
| –í—Ä–µ–º–µ–Ω–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö | 3 | 0 |
| –ß–∏—Ç–∞–±–µ–ª—å–Ω–æ—Å—Ç—å | –°—Ä–µ–¥–Ω—è—è | –í—ã—Å–æ–∫–∞—è |

---

## üéØ –ò–¢–û–ì

**–û–±–∞ —É–ª—É—á—à–µ–Ω–∏—è —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω—ã:**

1. ‚úÖ `find_existing_transcription()` - –ø–æ–∏—Å–∫ –ø–æ glob –ø–∞—Ç—Ç–µ—Ä–Ω—É `*.gigaam-{revision}-*.txt`
2. ‚úÖ –°–æ–∑–¥–∞–Ω–∏–µ –ø—É—Ç–∏ –∫ —Ñ–∞–π–ª—É - –æ–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–æ–π –±–µ–∑ –ø—Ä–æ–º–µ–∂—É—Ç–æ—á–Ω—ã—Ö –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö

**–ö–æ–¥ —Å—Ç–∞–ª —á–∏—â–µ, –∫–æ—Ä–æ—á–µ –∏ –≥–∏–±—á–µ!** üéâ

