# –£–Ω–∏—Ñ–∏–∫–∞—Ü–∏—è –ø–∞—Ç—Ç–µ—Ä–Ω–∞ –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏

**–î–∞—Ç–∞:** 2026-02-22  
**–§–∞–π–ª—ã:** `transcribe_utils.py`, `t_directory.py`, `t_gigaam.py`, `t_gigaam_blocks.py`, `t_gigaam_simple.py`

## üêõ –ü–†–û–ë–õ–ï–ú–ê

–§—É–Ω–∫—Ü–∏—è `has_transcription()` –≤ `t_directory.py` –∏—Å–∫–∞–ª–∞ —Ç–æ–ª—å–∫–æ —Ñ–∞–π–ª—ã —Å —Å—É—Ñ—Ñ–∏–∫—Å–æ–º `-speakers`, –Ω–æ —Å–∫—Ä–∏–ø—Ç—ã —Å–æ–∑–¥–∞—é—Ç —Ñ–∞–π–ª—ã —Å —Ä–∞–∑–Ω—ã–º–∏ —Å—É—Ñ—Ñ–∏–∫—Å–∞–º–∏:

- `t_gigaam_simple.py` ‚Üí `*.gigaam-e2e_rnnt-simple.txt`
- `t_gigaam_blocks.py` ‚Üí `*.gigaam-e2e_rnnt-blocks.txt`
- `t_gigaam.py` ‚Üí `*.gigaam-e2e_rnnt-speakers.txt`

**–†–µ–∑—É–ª—å—Ç–∞—Ç:** –§–∞–π–ª—ã —Å —Å—É—Ñ—Ñ–∏–∫—Å–∞–º–∏ `-simple` –∏ `-blocks` –Ω–µ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–ª–∏—Å—å –∏ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–ª–∏—Å—å –ø–æ–≤—Ç–æ—Ä–Ω–æ.

---

## ‚úÖ –†–ï–®–ï–ù–ò–ï

–°–æ–∑–¥–∞–Ω–∞ –µ–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è —Ä–∞–±–æ—Ç—ã —Å –∏–º–µ–Ω–∞–º–∏ —Ñ–∞–π–ª–æ–≤ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏:

### 1. –§—É–Ω–∫—Ü–∏—è `generate_transcription_filename()` –≤ `transcribe_utils.py`

–ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏–º—è —Ñ–∞–π–ª–∞ –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É –ø–∞—Ç—Ç–µ—Ä–Ω—É.

```python
def generate_transcription_filename(
        input_path: Path,
        revision: str,
        suffix: str = "blocks"
) -> Path:
    """
    –ì–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –∏–º—è —Ñ–∞–π–ª–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É –ø–∞—Ç—Ç–µ—Ä–Ω—É.
    
    –ü–∞—Ç—Ç–µ—Ä–Ω: <–∏–º—è>.gigaam-<revision>-<suffix>.txt
    
    –ü—Ä–∏–º–µ—Ä—ã:
        recording.amr ‚Üí recording.gigaam-e2e_rnnt-simple.txt
        video.mp4 ‚Üí video.gigaam-e2e_rnnt-speakers.txt
    """
    stem = input_path.stem
    parent = input_path.parent
    return parent / f"{stem}.gigaam-{revision}-{suffix}.txt"
```

---

### 2. –§—É–Ω–∫—Ü–∏—è `find_existing_transcription()` –≤ `transcribe_utils.py`

–ò—â–µ—Ç —Ñ–∞–π–ª —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ —Å **–ª—é–±—ã–º** —Å—É—Ñ—Ñ–∏–∫—Å–æ–º.

```python
def find_existing_transcription(
        input_path: Path,
        revision: str
) -> Path | None:
    """
    –ò—â–µ—Ç —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–π —Ñ–∞–π–ª —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ —Å –ª—é–±—ã–º —Å—É—Ñ—Ñ–∏–∫—Å–æ–º.
    
    –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Ñ–∞–π–ª–æ–≤ –≤ —Å–ª–µ–¥—É—é—â–µ–º –ø–æ—Ä—è–¥–∫–µ:
    1. *-speakers.txt (—Å –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–µ–π) - –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
    2. *-blocks.txt (—Å –±–ª–æ–∫–∞–º–∏ –ø–æ –ø–∞—É–∑–∞–º)
    3. *-simple.txt (–ø—Ä–æ—Å—Ç–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è)
    
    Returns:
        Path –∫ –Ω–∞–π–¥–µ–Ω–Ω–æ–º—É —Ñ–∞–π–ª—É –∏–ª–∏ None
    """
    suffixes = ['speakers', 'blocks', 'simple']
    
    for suffix in suffixes:
        transcription_path = generate_transcription_filename(input_path, revision, suffix)
        
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ –∏ –Ω–µ–Ω—É–ª–µ–≤–æ–π —Ä–∞–∑–º–µ—Ä
        if transcription_path.exists():
            try:
                file_size = transcription_path.stat().st_size
                if file_size > 0:
                    return transcription_path
            except OSError:
                continue
    
    return None
```

**–ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏:**
1. `speakers` - –Ω–∞–∏–±–æ–ª–µ–µ –ø–æ–ª–Ω–∞—è (—Å –¥–∏–∞—Ä–∏–∑–∞—Ü–∏–µ–π)
2. `blocks` - —Å—Ä–µ–¥–Ω—è—è (—Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –±–ª–æ–∫–∞–º–∏)
3. `simple` - –±–∞–∑–æ–≤–∞—è (–ø—Ä–æ—Å—Ç–∞—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è)

---

### 3. –û–±–Ω–æ–≤–ª–µ–Ω–∞ `has_transcription()` –≤ `t_directory.py`

**–ë—ã–ª–æ:**
```python
def has_transcription(file_path: Path, revision: str) -> bool:
    transcription_path = file_path.with_suffix(f".gigaam-{revision}-speakers.txt")
    # –ü—Ä–æ–≤–µ—Ä–∫–∞ —Ç–æ–ª—å–∫–æ speakers ‚ùå
    return transcription_path.exists()
```

**–°—Ç–∞–ª–æ:**
```python
def has_transcription(file_path: Path, revision: str) -> bool:
    """
    –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–∞–ª–∏—á–∏–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ —Å –ª—é–±—ã–º —Å—É—Ñ—Ñ–∏–∫—Å–æ–º.
    """
    # –ò—Å–ø–æ–ª—å–∑—É–µ–º –æ–±—â—É—é —Ñ—É–Ω–∫—Ü–∏—é –ø–æ–∏—Å–∫–∞
    transcription_path = find_existing_transcription(file_path, revision)
    return transcription_path is not None  # ‚úÖ –ù–∞—Ö–æ–¥–∏—Ç –ª—é–±–æ–π —Å—É—Ñ—Ñ–∏–∫—Å
```

---

### 4. –û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è –µ–¥–∏–Ω–æ–≥–æ –ø–∞—Ç—Ç–µ—Ä–Ω–∞

#### `t_gigaam_simple.py` - —É–∂–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç `save_transcription_to_file()` –∏–∑ utils ‚úÖ

#### `t_gigaam_blocks.py`:
```python
def save_transcription_to_file(full_text: str, input_path: Path, revision: str) -> Path:
    # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∏–º—è –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É –ø–∞—Ç—Ç–µ—Ä–Ω—É
    stem = input_path.stem
    parent = input_path.parent
    suffix = "blocks"
    out_path = parent / f"{stem}.gigaam-{revision}-{suffix}.txt"
    # ...
```

#### `t_gigaam.py`:
```python
# –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–æ —Å—Ç–∞–Ω–¥–∞—Ä—Ç–Ω–æ–º—É –ø–∞—Ç—Ç–µ—Ä–Ω—É
stem = input_path.stem
parent = input_path.parent
suffix = "speakers"
out_path = parent / f"{stem}.gigaam-{revision}-{suffix}.txt"
# ...
```

---

## üìä –°–†–ê–í–ù–ï–ù–ò–ï

### –î–æ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

```
–§–∞–π–ª—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:
‚îú‚îÄ‚îÄ recording_2026-02-20.amr
‚îú‚îÄ‚îÄ recording_2026-02-20.gigaam-e2e_rnnt-simple.txt    ‚ùå –ù–µ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç—Å—è
‚îú‚îÄ‚îÄ recording_2026-02-21.amr
‚îú‚îÄ‚îÄ recording_2026-02-21.gigaam-e2e_rnnt-blocks.txt    ‚ùå –ù–µ –æ–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç—Å—è
‚îú‚îÄ‚îÄ recording_2026-02-22.amr
‚îî‚îÄ‚îÄ recording_2026-02-22.gigaam-e2e_rnnt-speakers.txt  ‚úÖ –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç—Å—è

python t_directory.py . --script t_gigaam.py

–†–µ–∑—É–ª—å—Ç–∞—Ç:
- –î–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏: 2  ‚ùå –û–±—Ä–∞–±–æ—Ç–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ —Ñ–∞–π–ª—ã —Å -simple –∏ -blocks
- –ü—Ä–æ–ø—É—â–µ–Ω–æ: 1
```

---

### –ü–æ—Å–ª–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è:

```
–§–∞–π–ª—ã –≤ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏:
‚îú‚îÄ‚îÄ recording_2026-02-20.amr
‚îú‚îÄ‚îÄ recording_2026-02-20.gigaam-e2e_rnnt-simple.txt    ‚úÖ –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç—Å—è
‚îú‚îÄ‚îÄ recording_2026-02-21.amr
‚îú‚îÄ‚îÄ recording_2026-02-21.gigaam-e2e_rnnt-blocks.txt    ‚úÖ –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç—Å—è
‚îú‚îÄ‚îÄ recording_2026-02-22.amr
‚îî‚îÄ‚îÄ recording_2026-02-22.gigaam-e2e_rnnt-speakers.txt  ‚úÖ –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç—Å—è

python t_directory.py . --script t_gigaam.py

–†–µ–∑—É–ª—å—Ç–∞—Ç:
- –î–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏: 0  ‚úÖ –í—Å–µ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã, –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ –Ω—É–∂–Ω–∞
- –ü—Ä–æ–ø—É—â–µ–Ω–æ: 3
```

---

## üéØ –ü–†–ï–ò–ú–£–©–ï–°–¢–í–ê

### ‚úÖ –ï–¥–∏–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞:
- –í—Å–µ —Å–∫—Ä–∏–ø—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –æ–¥–∏–Ω —Ñ–æ—Ä–º–∞—Ç: `<–∏–º—è>.gigaam-<revision>-<suffix>.txt`
- –õ–µ–≥–∫–æ –ø–æ–Ω—è—Ç—å, –∫–∞–∫–æ–π —Å–∫—Ä–∏–ø—Ç —Å–æ–∑–¥–∞–ª —Ñ–∞–π–ª
- –ö–æ–Ω—Å–∏—Å—Ç–µ–Ω—Ç–Ω–æ—Å—Ç—å –≤ –∏–º–µ–Ω–æ–≤–∞–Ω–∏–∏

### ‚úÖ –ü—Ä–∞–≤–∏–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞–ª–∏—á–∏—è:
- –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç —Ñ–∞–π–ª—ã —Å **–ª—é–±—ã–º** —Å—É—Ñ—Ñ–∏–∫—Å–æ–º
- –ù–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ —É–∂–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- –≠–∫–æ–Ω–æ–º–∏—è –≤—Ä–µ–º–µ–Ω–∏ –∏ —Ä–µ—Å—É—Ä—Å–æ–≤

### ‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø—Ä–∏ –≤—ã–±–æ—Ä–µ:
- –ï—Å–ª–∏ –µ—Å—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π - –≤—ã–±–∏—Ä–∞–µ—Ç—Å—è —Å–∞–º–∞—è –ø–æ–ª–Ω–∞—è (`speakers` > `blocks` > `simple`)
- –õ–æ–≥–∏—á–Ω—ã–π –ø–æ—Ä—è–¥–æ–∫ –ø—Ä–æ–≤–µ—Ä–∫–∏
- –ü—Ä–µ–¥—Å–∫–∞–∑—É–µ–º–æ–µ –ø–æ–≤–µ–¥–µ–Ω–∏–µ

### ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—É—Å—Ç—ã–µ —Ñ–∞–π–ª—ã:
- –ü—Ä–æ–≤–µ—Ä—è–µ—Ç –Ω–µ —Ç–æ–ª—å–∫–æ —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ, –Ω–æ –∏ —Ä–∞–∑–º–µ—Ä > 0
- –ò–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç –ø–æ–≤—Ä–µ–∂–¥–µ–Ω–Ω—ã–µ —Ñ–∞–π–ª—ã
- –ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å —Ä–∞–±–æ—Ç—ã

---

## üìù –ü–†–ò–ú–ï–†–´ –ò–°–ü–û–õ–¨–ó–û–í–ê–ù–ò–Ø

### –ü—Ä–∏–º–µ—Ä 1: –°–º–µ—à–∞–Ω–Ω—ã–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏

```bash
# –í –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏ –µ—Å—Ç—å —Ä–∞–∑–Ω—ã–µ —Ç–∏–ø—ã —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–π
ls *.txt
recording_01.gigaam-e2e_rnnt-simple.txt
recording_02.gigaam-e2e_rnnt-blocks.txt
recording_03.gigaam-e2e_rnnt-speakers.txt

# –ó–∞–ø—É—Å–∫–∞–µ–º –ø–∞–∫–µ—Ç–Ω—É—é –æ–±—Ä–∞–±–æ—Ç–∫—É
python t_directory.py . --script t_gigaam.py

# –†–µ–∑—É–ª—å—Ç–∞—Ç: –í—Å–µ 3 —Ñ–∞–π–ª–∞ –æ–±–Ω–∞—Ä—É–∂–µ–Ω—ã, –ø–æ–≤—Ç–æ—Ä–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞ –Ω–µ –Ω—É–∂–Ω–∞
```

---

### –ü—Ä–∏–º–µ—Ä 2: –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø—Ä–∏ –≤—ã–±–æ—Ä–µ

```bash
# –£ –æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ –µ—Å—Ç—å –¥–≤–µ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏
recording.amr
recording.gigaam-e2e_rnnt-simple.txt    (5 KB)
recording.gigaam-e2e_rnnt-speakers.txt  (15 KB)

# find_existing_transcription() –≤–µ—Ä–Ω–µ—Ç:
# ‚Üí recording.gigaam-e2e_rnnt-speakers.txt
# (–ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç speakers > simple)
```

---

### –ü—Ä–∏–º–µ—Ä 3: –ü—É—Å—Ç–æ–π —Ñ–∞–π–ª

```bash
# –ï—Å—Ç—å –ø—É—Å—Ç–æ–π —Ñ–∞–π–ª (–ø—Ä–µ—Ä–≤–∞–Ω–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞)
recording.amr
recording.gigaam-e2e_rnnt-simple.txt    (0 KB)  ‚ùå –ü—É—Å—Ç–æ–π

# find_existing_transcription() –≤–µ—Ä–Ω–µ—Ç:
# ‚Üí None (–ø—É—Å—Ç–æ–π —Ñ–∞–π–ª –∏–≥–Ω–æ—Ä–∏—Ä—É–µ—Ç—Å—è)

# –†–µ–∑—É–ª—å—Ç–∞—Ç: –§–∞–π–ª –±—É–¥–µ—Ç –æ–±—Ä–∞–±–æ—Ç–∞–Ω –∑–∞–Ω–æ–≤–æ
```

---

## üîß –¢–ï–•–ù–ò–ß–ï–°–ö–ò–ï –î–ï–¢–ê–õ–ò

### –§–æ—Ä–º–∞—Ç –∏–º–µ–Ω–∏ —Ñ–∞–π–ª–∞ (–ø–∞—Ç—Ç–µ—Ä–Ω):

```
<–∏–º—è_–∏—Å—Ö–æ–¥–Ω–æ–≥–æ_—Ñ–∞–π–ª–∞>.gigaam-<revision>-<suffix>.txt
```

**–ö–æ–º–ø–æ–Ω–µ–Ω—Ç—ã:**
- `<–∏–º—è_–∏—Å—Ö–æ–¥–Ω–æ–≥–æ_—Ñ–∞–π–ª–∞>` - stem –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —Ñ–∞–π–ª–∞ (–±–µ–∑ —Ä–∞—Å—à–∏—Ä–µ–Ω–∏—è)
- `.gigaam` - –ø—Ä–µ—Ñ–∏–∫—Å, —É–∫–∞–∑—ã–≤–∞—é—â–∏–π –Ω–∞ GigaAM
- `-<revision>` - –≤–µ—Ä—Å–∏—è –º–æ–¥–µ–ª–∏ (`e2e_rnnt`, `e2e_ctc`, `rnnt`, `ctc`)
- `-<suffix>` - —Ç–∏–ø —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ (`simple`, `blocks`, `speakers`)
- `.txt` - —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ

**–ü—Ä–∏–º–µ—Ä—ã:**
```
recording.amr ‚Üí recording.gigaam-e2e_rnnt-simple.txt
video.mp4 ‚Üí video.gigaam-e2e_rnnt-speakers.txt
call.wav ‚Üí call.gigaam-e2e_ctc-blocks.txt
```

---

### –ê–ª–≥–æ—Ä–∏—Ç–º –ø–æ–∏—Å–∫–∞ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏:

```python
suffixes = ['speakers', 'blocks', 'simple']  # –ü–æ—Ä—è–¥–æ–∫ –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç–∞

for suffix in suffixes:
    # –ì–µ–Ω–µ—Ä–∏—Ä—É–µ–º –∏–º—è —Ñ–∞–π–ª–∞
    path = generate_transcription_filename(input_path, revision, suffix)
    
    # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Å—É—â–µ—Å—Ç–≤–æ–≤–∞–Ω–∏–µ
    if path.exists():
        # –ü—Ä–æ–≤–µ—Ä—è–µ–º —Ä–∞–∑–º–µ—Ä > 0
        if path.stat().st_size > 0:
            return path  # –ù–∞–π–¥–µ–Ω!
    
return None  # –ù–µ –Ω–∞–π–¥–µ–Ω–æ
```

---

### –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫:

```python
try:
    file_size = transcription_path.stat().st_size
    if file_size > 0:
        return transcription_path
except OSError:
    continue  # –§–∞–π–ª –Ω–µ–¥–æ—Å—Ç—É–ø–µ–Ω, –ø—Ä–æ–±—É–µ–º —Å–ª–µ–¥—É—é—â–∏–π
```

**OSError –æ—Ö–≤–∞—Ç—ã–≤–∞–µ—Ç:**
- `FileNotFoundError` - —Ñ–∞–π–ª —É–¥–∞–ª—ë–Ω –º–µ–∂–¥—É –ø—Ä–æ–≤–µ—Ä–∫–∞–º–∏
- `PermissionError` - –Ω–µ—Ç –ø—Ä–∞–≤
- –î—Ä—É–≥–∏–µ I/O –æ—à–∏–±–∫–∏

---

## üìà –í–õ–ò–Ø–ù–ò–ï –ù–ê –ü–†–û–ò–ó–í–û–î–ò–¢–ï–õ–¨–ù–û–°–¢–¨

### –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –ø—Ä–æ–≤–µ—Ä–æ–∫ —Ñ–∞–π–ª–æ–≤–æ–π —Å–∏—Å—Ç–µ–º—ã:

**–î–æ:**
- 1 –ø—Ä–æ–≤–µ—Ä–∫–∞: `*.gigaam-<revision>-speakers.txt`

**–ü–æ—Å–ª–µ:**
- –î–æ 3 –ø—Ä–æ–≤–µ—Ä–æ–∫: `speakers`, `blocks`, `simple` (—Å –∫–æ—Ä–æ—Ç–∫–∏–º –∑–∞–º—ã–∫–∞–Ω–∏–µ–º)
- **Early exit:** –û—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ—Ç—Å—è –ø—Ä–∏ –ø–µ—Ä–≤–æ–º –Ω–∞–π–¥–µ–Ω–Ω–æ–º —Ñ–∞–π–ª–µ

### Overhead:

- **–î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –æ–ø–µ—Ä–∞—Ü–∏–∏:** `+0-2 stat()` –≤—ã–∑–æ–≤–∞ –Ω–∞ —Ñ–∞–π–ª
- **–í—Ä–µ–º—è:** ~0.001-0.003 –º—Å –Ω–∞ —Ñ–∞–π–ª (–Ω–µ–∑–∞–º–µ—Ç–Ω–æ)
- **–ü–æ–ª—å–∑–∞:** –ò–∑–±–µ–≥–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ = —ç–∫–æ–Ω–æ–º–∏—è –º–∏–Ω—É—Ç/—á–∞—Å–æ–≤

---

## ‚úÖ –ò–¢–û–ì

**–°–æ–∑–¥–∞–Ω–∞ –µ–¥–∏–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ —Ä–∞–±–æ—Ç—ã —Å –∏–º–µ–Ω–∞–º–∏ —Ñ–∞–π–ª–æ–≤ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏!**

### –ß—Ç–æ —Å–¥–µ–ª–∞–Ω–æ:

1. ‚úÖ **`generate_transcription_filename()`** - –µ–¥–∏–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∏–º–µ–Ω–∏
2. ‚úÖ **`find_existing_transcription()`** - –ø–æ–∏—Å–∫ —Å –ª—é–±—ã–º —Å—É—Ñ—Ñ–∏–∫—Å–æ–º
3. ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω–∞ `has_transcription()`** - –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –Ω–æ–≤—É—é —Ñ—É–Ω–∫—Ü–∏—é
4. ‚úÖ **–û–±–Ω–æ–≤–ª–µ–Ω—ã –≤—Å–µ —Å–∫—Ä–∏–ø—Ç—ã** - –µ–¥–∏–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –∏–º–µ–Ω–∏

### –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞:

- ‚úÖ –û–±–Ω–∞—Ä—É–∂–∏–≤–∞–µ—Ç —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏–∏ —Å **–ª—é–±—ã–º** —Å—É—Ñ—Ñ–∏–∫—Å–æ–º
- ‚úÖ –ù–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ø–æ–≤—Ç–æ—Ä–Ω–æ —É–∂–µ –≥–æ—Ç–æ–≤—ã–µ —Ñ–∞–π–ª—ã
- ‚úÖ –ü—Ä–∏–æ—Ä–∏—Ç–µ—Ç –ø—Ä–∏ –≤—ã–±–æ—Ä–µ (speakers > blocks > simple)
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø—É—Å—Ç—ã–µ —Ñ–∞–π–ª—ã
- ‚úÖ –ï–¥–∏–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç –∏–º–µ–Ω–∏ –≤–æ –≤—Å–µ—Ö —Å–∫—Ä–∏–ø—Ç–∞—Ö

### –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ:

```bash
# –¢–µ–ø–µ—Ä—å —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ —Å –ª—é–±—ã–º–∏ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ü–∏—è–º–∏!
python t_directory.py H:\vkshare\CallRec --script t_gigaam.py

# –û–±–Ω–∞—Ä—É–∂–∏—Ç —Ñ–∞–π–ª—ã —Å —Å—É—Ñ—Ñ–∏–∫—Å–∞–º–∏: -simple, -blocks, -speakers
```

**–ü—Ä–æ–±–ª–µ–º–∞ –ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ—à–µ–Ω–∞!** üéâ

