mqtt:
  enabled: false

#detectors:
#  onnx_one:
#    type: onnx


# model from https://github.com/Megvii-BaseDetection/YOLOX/tree/main/demo/ONNXRuntime

#model:
#  model_type: yolox
#  input_tensor: nchw
#  input_dtype: float
#  labelmap_path: /config/yyy/coco-80.txt
#  path: /config/yyy/yolox_nano.onnx
#  width: 416
#  height: 416

cameras:
  cam-dbg1:
    enabled: true
    ffmpeg:
      inputs:
        - path: rtsp://rtsp-server:8554/live01
          roles:
            - detect
            - record
            - audio
      input_args:
        - -rtsp_transport
        - tcp
      output_args:
        detect: -f rawvideo -pix_fmt yuv420p -vf scale=1920:1080
    detect:
      enabled: true
      width: 1920
      height: 1080
      fps: 5

    motion:
      threshold: 40
      contour_area: 20
      improve_contrast: true
  cam-dbg2:
    enabled: true
    ffmpeg:
      inputs:
        - path: rtsp://rtsp-server:8554/live02
          roles:
            - detect
            - record
            - audio
      input_args:
        - -rtsp_transport
        - tcp
#      output_args:
#        detect: -f rawvideo -pix_fmt yuv420p -vf scale=1920:1080
    detect:
      enabled: true
      width: 1920
      height: 1080
      fps: 5

    motion:
      threshold: 40
      contour_area: 20
      improve_contrast: true
  cam1:
    enabled: true
    ffmpeg:
      inputs:
        - path: 
            rtsp://admin:noname564@192.168.2.80:554/cam/realmonitor?channel=1&subtype=0
          roles:
            - detect
            - record
            - audio
      input_args:
        - -rtsp_transport
        - tcp
    detect:
      enabled: true
      width: 1280
      height: 720
      fps: 5
    motion:
      threshold: 30
      contour_area: 22
      improve_contrast: true
    zones: {}
    review: {}
    record:
      enabled: true
      retain:
        days: 3
        mode: motion
      alerts:
        retain:
          days: 30
          mode: motion
      detections:
        retain:
          days: 30
          mode: motion



objects:
  track:
    - person
    - car

review:
  alerts:
    enabled: true
    labels:
      - person
      - car
  detections:
    enabled: true
    labels:
      - person
      - car

record:
  enabled: true
  retain:
    days: 3
    mode: motion
  alerts:
    retain:
      days: 30
      mode: motion   # ← реагирует на любое движение
  detections:
    retain:
      days: 30
      mode: motion

version: 0.16-0
